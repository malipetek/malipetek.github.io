<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../sveltepress.svg" />
		<meta name="viewport" content="width=device-width" />
		<script type="module" defer src="https://www.googletagmanager.com/gtag/js?id=G-W88DDBE0KY"></script>
		<script type="module" defer src="/gtag_init.js"></script>
		
		<link href="../../_app/immutable/assets/0.BG2Yus8Y.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Link.IfFVqzp4.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/ReloadPrompt.D_IPwwAH.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/CopyCode.CtenRoN-.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/PageLayout.Dz3tzg3m.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.C8LWQuQL.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/entry.CRW8f1Wp.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.BBAxU3ed.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.CEQuV4OC.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.D6kgxu3v.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.xbmFUHOd.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.DIZwJhvl.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/0.BJWNgyQu.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/External.CPhpAI1i.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.BaTVx7Pq.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Link.q-lgAy3X.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/9.CcOpF4y4.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/PageLayout.Bvd9tdCY.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CopyCode.CUB4E8Xm.js"><title>Muhammet Ali Petek</title><!-- HEAD_svelte-1pnpowe_START --><meta id="theme-color" name="theme-color" content="#fff"><!-- HTML_TAG_START -->
<script>
  const themeColor = JSON.parse('{"light":"#fff","dark":"#000"}')
  if (window.localStorage.getItem('SVELTEPRESS_DARK_MODE') === 'on') {
    document.querySelector('html').classList.add('dark')
    document.getElementById('theme-color').setAttribute('content', themeColor ? themeColor.dark : '#ffffff')
  } else {
    document.querySelector('html').classList.remove('dark')
    document.getElementById('theme-color').setAttribute('content', themeColor ? themeColor.light : '#ffffff')
  }
</script><!-- HTML_TAG_END --><!-- HEAD_svelte-1pnpowe_END --><!-- HEAD_svelte-yuwj80_START --><meta name="description" content="Your favorite full stack JS developer"><!-- HEAD_svelte-yuwj80_END --><!-- HEAD_svelte-ntf23x_START --><!-- HEAD_svelte-ntf23x_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">   <header class="header svelte-1hd8g3g"><div class="header-inner svelte-1hd8g3g"><div class="left svelte-1hd8g3g"><div class="nav-trigger svelte-8qx7is" role="menu" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokewidth="2"><path d="M5 5L19 19"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 5L19 19;M5 5L19 5"></animate></path><path d="M12 12H12" opacity="0"><animate fill="freeze" attributeName="d" begin="0.2s" dur="0.4s" values="M12 12H12;M5 12H19"></animate><set attributeName="opacity" begin="0.2s" to="1"></set></path><path d="M5 19L19 5"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 19L19 5;M5 19L19 19"></animate></path></g></svg></div>  </div>  <nav class="nav-links svelte-1hd8g3g" aria-label="Menu"><div class="navbar-pc svelte-1hd8g3g"><div class="sm:flex none"></div> <div href="https://github.com/malipetek" class="nav-item nav-item--icon svelte-12nytwi" target="_blank" role="link" tabindex="0" aria-label="Github"><svg width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"></path></svg></div>    <div class="toggle svelte-8qls77" aria-label="Toggle dark mode" role="button" tabindex="0"><svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokedasharray="2" strokedashoffset="2" strokelinecap="round" strokewidth="2"><path d="M0 0"><animate fill="freeze" attributeName="d" begin="1.2s" dur="0.2s" values="M12 19v1M19 12h1M12 5v-1M5 12h-1;M12 21v1M21 12h1M12 3v-1M3 12h-1"></animate><animate fill="freeze" attributeName="stroke-dashoffset" begin="1.2s" dur="0.2s" values="2;0"></animate></path><path d="M0 0"><animate fill="freeze" attributeName="d" begin="1.5s" dur="0.2s" values="M17 17l0.5 0.5M17 7l0.5 -0.5M7 7l-0.5 -0.5M7 17l-0.5 0.5;M18.5 18.5l0.5 0.5M18.5 5.5l0.5 -0.5M5.5 5.5l-0.5 -0.5M5.5 18.5l-0.5 0.5"></animate><animate fill="freeze" attributeName="stroke-dashoffset" begin="1.5s" dur="1.2s" values="2;0"></animate></path><animateTransform attributeName="transform" dur="30s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></g><g fill="currentColor"><path d="M15.22 6.03L17.75 4.09L14.56 4L13.5 1L12.44 4L9.25 4.09L11.78 6.03L10.87 9.09L13.5 7.28L16.13 9.09L15.22 6.03Z"><animate fill="freeze" attributeName="fill-opacity" dur="0.4s" values="1;0"></animate></path><path d="M19.61 12.25L21.25 11L19.19 10.95L18.5 9L17.81 10.95L15.75 11L17.39 12.25L16.8 14.23L18.5 13.06L20.2 14.23L19.61 12.25Z"><animate fill="freeze" attributeName="fill-opacity" begin="0.2s" dur="0.4s" values="1;0"></animate></path></g><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path d="M7 6 C7 12.08 11.92 17 18 17 C18.53 17 19.05 16.96 19.56 16.89 C17.95 19.36 15.17 21 12 21 C7.03 21 3 16.97 3 12 C3 8.83 4.64 6.05 7.11 4.44 C7.04 4.95 7 5.47 7 6 Z"></path><set attributeName="opacity" begin="0.6s" to="0"></set></g><mask id="lineMdMoonToSunnyOutlineLoopTransition0"><circle cx="12" cy="12" r="12" fill="#fff"></circle><circle cx="12" cy="12" r="8"><animate fill="freeze" attributeName="r" begin="0.6s" dur="0.4s" values="8;4"></animate></circle><circle cx="18" cy="6" r="12" fill="#fff"><animate fill="freeze" attributeName="cx" begin="0.6s" dur="0.4s" values="18;22"></animate><animate fill="freeze" attributeName="cy" begin="0.6s" dur="0.4s" values="6;2"></animate><animate fill="freeze" attributeName="r" begin="0.6s" dur="0.4s" values="12;3"></animate></circle><circle cx="18" cy="6" r="10"><animate fill="freeze" attributeName="cx" begin="0.6s" dur="0.4s" values="18;22"></animate><animate fill="freeze" attributeName="cy" begin="0.6s" dur="0.4s" values="6;2"></animate><animate fill="freeze" attributeName="r" begin="0.6s" dur="0.4s" values="10;1"></animate></circle></mask><circle cx="12" cy="12" r="10" fill="currentColor" mask="url(#lineMdMoonToSunnyOutlineLoopTransition0)" opacity="0"><set attributeName="opacity" begin="0.6s" to="1"></set><animate fill="freeze" attributeName="r" begin="0.6s" dur="0.4s" values="10;6"></animate></circle></svg> </div></div></nav></div> <nav class="sub-nav svelte-139s4k1" aria-label="Browse docs"><div role="button" tabindex="0" class="i-ic-round-menu-open text-6"></div> <div role="button" tabindex="0">On this page</div> </nav> </header> <main class="svelte-idgelp"><div class="ajax-bar svelte-1l1j860" style="--ajax-bar-width: 0%;"><div class="progress svelte-1l1j860"></div> </div> <aside class="theme-default-sidebar svelte-z5zf4y collapsed"><div class="sidebar-logo svelte-z5zf4y"><a href="../.." class="nav-item  svelte-12nytwi" role="link" tabindex="0" aria-label="Muhammet Ali Petek"><img class="logo svelte-1qc3gua" height="32" src="/me.webp" alt="Muhammet Ali Petek"> <span class="title svelte-1qc3gua">Muhammet Ali Petek</span></a> <div class="close svelte-z5zf4y" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentColor" fillrule="evenodd" d="m7.116 8l-4.558 4.558l.884.884L8 8.884l4.558 4.558l.884-.884L8.884 8l4.558-4.558l-.884-.884L8 7.116L3.442 2.558l-.884.884L7.116 8z" cliprule="evenodd"></path></svg></div></div>  <div class="sidebar-group svelte-1oalysk"><div class="group-title svelte-1oalysk with-mb"><div></div> </div> <div class="links svelte-1oalysk"> <a href="../../chat" class="link no-inline   svelte-1rl6eur" aria-label="Chat"> <div>Chat</div>    </a> <a href="../../experience" class="link no-inline   svelte-1rl6eur" aria-label="Experience"> <div>Experience</div>    </a> <a href="../../experience/truth" class="link no-inline   svelte-1rl6eur" aria-label="TRUTH NYC"> <div>TRUTH NYC</div>    </a></div> </div> <div class="sidebar-group svelte-1oalysk"><div class="group-title svelte-1oalysk with-mb"><div>Blog</div> <div class="collapse-control svelte-1oalysk" role="button" tabindex="0" aria-label="Collapsable button"><div class="arrow svelte-1oalysk"><svg width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6l1.41-1.41z"></path></svg></div></div></div> <div class="links svelte-1oalysk"> <div class="sidebar-group svelte-1oalysk nested"><div class="group-title svelte-1oalysk"><div>Shopify</div> <div class="collapse-control svelte-1oalysk" role="button" tabindex="0" aria-label="Collapsable button"><div class="arrow svelte-1oalysk"><svg width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6l1.41-1.41z"></path></svg></div></div></div> <div class="links svelte-1oalysk"> <a href="../../blog/shopify/how-to-partytown" class="link no-inline   svelte-1rl6eur" aria-label="How to Partytown 🎉"> <div>How to Partytown 🎉</div>    </a></div> </div> <div class="sidebar-group svelte-1oalysk nested"><div class="group-title svelte-1oalysk"><div>Linux</div> <div class="collapse-control svelte-1oalysk" role="button" tabindex="0" aria-label="Collapsable button"><div class="arrow svelte-1oalysk"><svg width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6l1.41-1.41z"></path></svg></div></div></div> <div class="links svelte-1oalysk"> <a href="../../blog/linux/Convert Bash Scripts Into Named CLI Commands in Linux" class="link no-inline   svelte-1rl6eur" aria-label="Convert Bash Scripts Into Named CLI Commands in Linux"> <div>Convert Bash Scripts Into Named CLI Commands in Linux</div>    </a> <a href="../../blog/linux/How I Solved Chrome GPU Issue On My Linux Mint" class="link no-inline   svelte-1rl6eur" aria-label="How I Solved Chrome GPU Issue On My Linux Mint"> <div>How I Solved Chrome GPU Issue On My Linux Mint</div>    </a> <a href="../../blog/linux/Ubuntu Accessing Google Drive from Nautilus" class="link no-inline   svelte-1rl6eur" aria-label="Ubuntu Accessing Google Drive from Nautilus"> <div>Ubuntu Accessing Google Drive from Nautilus</div>    </a> <a href="../../blog/linux/Linux Mint XFCE How I made VGA display configuration persist" class="link no-inline   svelte-1rl6eur" aria-label="Linux Mint XFCE How I made VGA display configuration persist"> <div>Linux Mint XFCE How I made VGA display configuration persist</div>    </a></div> </div> <div class="sidebar-group svelte-1oalysk nested"><div class="group-title svelte-1oalysk"><div>Svelte</div> <div class="collapse-control svelte-1oalysk" role="button" tabindex="0" aria-label="Collapsable button"><div class="arrow svelte-1oalysk"><svg width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6l1.41-1.41z"></path></svg></div></div></div> <div class="links svelte-1oalysk"> <a href="../../blog/svelte/why-my-image-is-not-hydrating-right" class="link no-inline   svelte-1rl6eur" aria-label="Why my image is not hydrating right"> <div>Why my image is not hydrating right</div>    </a></div> </div> <div class="sidebar-group svelte-1oalysk nested"><div class="group-title svelte-1oalysk"><div>Web</div> <div class="collapse-control svelte-1oalysk" role="button" tabindex="0" aria-label="Collapsable button"><div class="arrow svelte-1oalysk"><svg width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6l1.41-1.41z"></path></svg></div></div></div> <div class="links svelte-1oalysk"> <a href="../../blog/web/CSS only toggleables" class="link no-inline   svelte-1rl6eur" aria-label="CSS only toggleables"> <div>CSS only toggleables</div>    </a></div> </div></div> </div></aside> <div class="backdrop svelte-112ytuk" role="none" style="top: 0; z-index: 900;"></div> <div class="backdrop svelte-112ytuk" role="none" style="top: 56px; z-index: 887;"></div>   <div pb-4 class="theme-default--page-layout"><div class="content svelte-5l8hkd"> <div id="Why-my-image-is-not-hydrating-correctly-when-Svelte-initializes" class="svp-anchor-item"></div> <h1 data-svelte-h="svelte-c9qyta"><a href="#Why-my-image-is-not-hydrating-correctly-when-Svelte-initializes" class="svp-title-anchor" aria-label="Why my image is not hydrating correctly when Svelte initializes"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Why my image is not hydrating correctly when Svelte initializes</h1> <div id="Preface" class="svp-anchor-item"></div> <h2 data-svelte-h="svelte-42i0y2"><a href="#Preface" class="svp-title-anchor" aria-label="Preface"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Preface</h2> <p>I am writing a Shopify theme using <a href="https://liquivelte.js.org" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="liquivelte"> <div>liquivelte</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a> which is in essence liquid rendered html being hydrated with svelte.</p> <p>I have added support for the <a href="https://shopify.dev/docs/api/liquid/filters/image_tag" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="image_tag filter"> <div>image_tag filter</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a> which outputs a <code data-svelte-h="svelte-3w7s4n">img</code> tag so it is not a input output case for svelte side. Normally how I handle liquid filter conterpart on svelte side is like this. Let&#39;s say there is a image_url filter</p> <div class="svp-code-block-wrapper"><div class="svp-code-block"> <pre class="shiki shiki-themes vitesse-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#393a34;--shiki-dark:#d6deeb" tabindex="0" data-svelte-h="svelte-1gflr74"><code><span class="line"><span style="color:#393A34;--shiki-dark:#D6DEEB">&lt;img src=&quot;{{- somevalue | image_url: width: 300 -}}&quot; &gt;</span></span></code></pre> <div class="svp-code-block--lang" data-svelte-h="svelte-47zmzy">liquivelte</div> <div class="svp-code-bock--copy-code" role="button" tabindex="0" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path><path fill="currentColor" d="M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"></path></svg></div></div></div> <p data-svelte-h="svelte-k1l6u6">liquivelte converts it to</p> <div class="svp-code-block-wrapper"><div class="svp-code-block"> <pre class="shiki shiki-themes vitesse-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#393a34;--shiki-dark:#d6deeb" tabindex="0" data-svelte-h="svelte-blaee8"><code><span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">img</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> src</span><span style="color:#999999;--shiki-dark:#7FDBCA">=</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D3423E">{</span><span style="color:#B56959;--shiki-dark:#D6DEEB"> liquid</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#59873A;--shiki-dark:#82AAFF;font-style:inherit;--shiki-dark-font-style:italic">image_url</span><span style="color:#999999;--shiki-dark:#D6DEEB">(</span><span style="color:#B56959;--shiki-dark:#D6DEEB">somevalue</span><span style="color:#999999;--shiki-dark:#ECC48D">,</span><span style="color:#999999;--shiki-dark:#ECC48D"> {</span><span style="color:#998418;--shiki-dark:#ECC48D">width</span><span style="color:#999999;--shiki-dark:#ECC48D">: </span><span style="color:#2F798A;--shiki-dark:#F78C6C">300</span><span style="color:#999999;--shiki-dark:#ECC48D">}</span><span style="color:#999999;--shiki-dark:#D6DEEB">)</span><span style="color:#999999;--shiki-dark:#D3423E"> }</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span></code></pre> <div class="svp-code-block--lang" data-svelte-h="svelte-xa0fuv">svelte</div> <div class="svp-code-bock--copy-code" role="button" tabindex="0" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path><path fill="currentColor" d="M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"></path></svg></div></div></div> <p data-svelte-h="svelte-1tscvx9">This is fine for input output case scenarios. However <code>image_tag</code> is different. One might say this is a more complex filter. Then I moved forward with adding an exception for <code>image_tag</code> and it became like this.
Lets say we have a image tag expression:</p> <div class="svp-code-block-wrapper"><div class="svp-code-block"> <pre class="shiki shiki-themes vitesse-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#393a34;--shiki-dark:#d6deeb" tabindex="0" data-svelte-h="svelte-1p4m2l8"><code><span class="line"><span style="color:#393A34;--shiki-dark:#D6DEEB">&lt;div class=&quot;image-container&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#D6DEEB">  {{- product.images[0] | image_url: width: 300 | image_tag }}</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#D6DEEB">&lt;/div&gt;</span></span></code></pre> <div class="svp-code-block--lang" data-svelte-h="svelte-47zmzy">liquivelte</div> <div class="svp-code-bock--copy-code" role="button" tabindex="0" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path><path fill="currentColor" d="M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"></path></svg></div></div></div> <p data-svelte-h="svelte-1a2l4l1">It would output</p> <div class="svp-code-block-wrapper"><div class="svp-code-block"> <pre class="shiki shiki-themes vitesse-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#393a34;--shiki-dark:#d6deeb" tabindex="0" data-svelte-h="svelte-yma3fh"><code><span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">div</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> class</span><span style="color:#999999;--shiki-dark:#7FDBCA">=</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">image-container</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">  &lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">img</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> {</span><span style="color:#999999;--shiki-dark:#7FDBCA">...</span><span style="color:#B07D48;--shiki-dark:#D6DEEB">liquid</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#59873A;--shiki-dark:#82AAFF;font-style:inherit;--shiki-dark-font-style:italic">image_tag</span><span style="color:#999999;--shiki-dark:#D6DEEB">(</span><span style="color:#B07D48;--shiki-dark:#D6DEEB"> liquid</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#59873A;--shiki-dark:#82AAFF;font-style:inherit;--shiki-dark-font-style:italic">image_url</span><span style="color:#999999;--shiki-dark:#D6DEEB">(</span><span style="color:#B07D48;--shiki-dark:#D6DEEB">product</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#B07D48;--shiki-dark:#BAEBE2">images</span><span style="color:#999999;--shiki-dark:#D6DEEB">[</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0</span><span style="color:#999999;--shiki-dark:#D6DEEB">]</span><span style="color:#999999;--shiki-dark:#7FDBCA">,</span><span style="color:#999999;--shiki-dark:#7FDBCA"> {</span><span style="color:#998418;--shiki-dark:#7FDBCA">width</span><span style="color:#999999;--shiki-dark:#7FDBCA">: </span><span style="color:#2F798A;--shiki-dark:#F78C6C">300</span><span style="color:#999999;--shiki-dark:#7FDBCA">}</span><span style="color:#999999;--shiki-dark:#D6DEEB">)</span><span style="color:#999999;--shiki-dark:#7FDBCA">,</span><span style="color:#999999;--shiki-dark:#7FDBCA"> {}</span><span style="color:#999999;--shiki-dark:#D6DEEB"> )</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> }</span><span style="color:#999999;--shiki-dark:#7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;/</span><span style="color:#1E754F;--shiki-dark:#CAECE6">div</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span></code></pre> <div class="svp-code-block--lang" data-svelte-h="svelte-xa0fuv">svelte</div> <div class="svp-code-bock--copy-code" role="button" tabindex="0" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path><path fill="currentColor" d="M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"></path></svg></div></div></div> <p data-svelte-h="svelte-1e1td7v">I thought why not, lets add <code>image_tag</code> filter as a utility function and spread props that come out of it. I did not see what was coming.</p> <div id="The-Problem" class="svp-anchor-item"></div> <h2 data-svelte-h="svelte-tfu3h5"><a href="#The-Problem" class="svp-title-anchor" aria-label="The Problem"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>The Problem</h2> <p data-svelte-h="svelte-1keqaog">I realized images are loading correctly, however there was a flashing. Images would reload. This is a no no, this means large layout shifts, this means bad UX. But what was wrong, I checked network panel for single image and it was loading exactly same image 2 times. Here is I am comparing 2 urls thinking it got to be different.
<img src="/link-comparison.jpg" alt="image url comparison"></p> <p>I went to svelte issues and spent some time on this <a href="https://github.com/sveltejs/svelte/issues/4308" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="better hydration issue"> <div>better hydration issue</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a> but I was thinking &quot;this is about iframes and stuff, images are so essential for web it would be much more fuss it this was happening on images all the time&quot;. Then I went back to trustworthy devtools to find my way around. Started debugging and added a <code data-svelte-h="svelte-2rjkse">debugger;</code> statement at the end of image statement as an inline script. That would stop html parsing at that point so I know at that point initial image is there. At this point I went to &quot;elements&quot; panel and added (DOM breakpoints)[<a href="https://developer.chrome.com/docs/devtools/javascript/breakpoints/#dom" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="https://developer.chrome.com/docs/devtools/javascript/breakpoints/#dom"> <div>https://developer.chrome.com/docs/devtools/javascript/breakpoints/#dom</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a>] to the element itself to find out which function is replacing or modifying the element.
<img src="/debugger.jpg" alt="ss of adding dom breakpoints"></p> <p data-svelte-h="svelte-mns5zv">Indeed I found the function who replaces the node and adds a new one. It is a core svelte function called <code>claim_element_base</code>.
<img src="/attributes.jpg" alt="function with name claim_element_base"></p> <p data-svelte-h="svelte-ysnymm">This function is checking if existing element has attributes of the svelte counterpart of that element. If it does not have an attribute it mark it for removal.</p> <p data-svelte-h="svelte-40016o">This is what gpt has to say about it:
<img src="/gpt_exp.jpg" alt="gpts word on the function"></p> <div id="Conclusion" class="svp-anchor-item"></div> <h2 data-svelte-h="svelte-nbmqct"><a href="#Conclusion" class="svp-title-anchor" aria-label="Conclusion"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Conclusion</h2> <p data-svelte-h="svelte-thz193">At the end of the day answer to question of this article is; if you use props spreading in svelte, your elements will get destroyed and re-created when hydrating. I now converted the conversion logic to use attributes one by one and it works like a charm.</p> <p data-svelte-h="svelte-lfbn1q">When there is a expression in liquid side with image tag I convert it to</p> <div class="svp-code-block-wrapper"><div class="svp-code-block"> <pre class="shiki shiki-themes vitesse-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#393a34;--shiki-dark:#d6deeb" tabindex="0" data-svelte-h="svelte-lw44yb"><code><span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">div</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">  &lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">img</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> src</span><span style="color:#999999;--shiki-dark:#7FDBCA">=</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D3423E">{</span><span style="color:#B56959;--shiki-dark:#D6DEEB">liquid</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#59873A;--shiki-dark:#82AAFF;font-style:inherit;--shiki-dark-font-style:italic">image_url</span><span style="color:#999999;--shiki-dark:#D6DEEB">(</span><span style="color:#B56959;--shiki-dark:#D6DEEB">product</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#B56959;--shiki-dark:#BAEBE2">images</span><span style="color:#999999;--shiki-dark:#D6DEEB">[</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0</span><span style="color:#999999;--shiki-dark:#D6DEEB">]</span><span style="color:#999999;--shiki-dark:#ECC48D">,</span><span style="color:#999999;--shiki-dark:#ECC48D"> {</span><span style="color:#998418;--shiki-dark:#ECC48D">width</span><span style="color:#999999;--shiki-dark:#ECC48D">: </span><span style="color:#2F798A;--shiki-dark:#F78C6C">300</span><span style="color:#999999;--shiki-dark:#ECC48D">}</span><span style="color:#999999;--shiki-dark:#D6DEEB">)</span><span style="color:#999999;--shiki-dark:#ECC48D">, {}</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ) </span><span style="color:#999999;--shiki-dark:#D3423E">}</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> srcset</span><span style="color:#999999;--shiki-dark:#7FDBCA">=</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#2F798A;--shiki-dark:#F78C6C">...</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> alt</span><span style="color:#999999;--shiki-dark:#7FDBCA">=</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#2F798A;--shiki-dark:#F78C6C">...</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;/</span><span style="color:#1E754F;--shiki-dark:#CAECE6">div</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span></code></pre> <div class="svp-code-block--lang" data-svelte-h="svelte-xa0fuv">svelte</div> <div class="svp-code-bock--copy-code" role="button" tabindex="0" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path><path fill="currentColor" d="M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"></path></svg></div></div></div> <p data-svelte-h="svelte-148vk1e">instead of prop spreading like this:</p> <div class="svp-code-block-wrapper"><div class="svp-code-block"> <pre class="shiki shiki-themes vitesse-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#393a34;--shiki-dark:#d6deeb" tabindex="0" data-svelte-h="svelte-yma3fh"><code><span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">div</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> class</span><span style="color:#999999;--shiki-dark:#7FDBCA">=</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">image-container</span><span style="color:#B5695999;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">  &lt;</span><span style="color:#1E754F;--shiki-dark:#CAECE6">img</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> {</span><span style="color:#999999;--shiki-dark:#7FDBCA">...</span><span style="color:#B07D48;--shiki-dark:#D6DEEB">liquid</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#59873A;--shiki-dark:#82AAFF;font-style:inherit;--shiki-dark-font-style:italic">image_tag</span><span style="color:#999999;--shiki-dark:#D6DEEB">(</span><span style="color:#B07D48;--shiki-dark:#D6DEEB"> liquid</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#59873A;--shiki-dark:#82AAFF;font-style:inherit;--shiki-dark-font-style:italic">image_url</span><span style="color:#999999;--shiki-dark:#D6DEEB">(</span><span style="color:#B07D48;--shiki-dark:#D6DEEB">product</span><span style="color:#999999;--shiki-dark:#C792EA;font-style:inherit;--shiki-dark-font-style:italic">.</span><span style="color:#B07D48;--shiki-dark:#BAEBE2">images</span><span style="color:#999999;--shiki-dark:#D6DEEB">[</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0</span><span style="color:#999999;--shiki-dark:#D6DEEB">]</span><span style="color:#999999;--shiki-dark:#7FDBCA">,</span><span style="color:#999999;--shiki-dark:#7FDBCA"> {</span><span style="color:#998418;--shiki-dark:#7FDBCA">width</span><span style="color:#999999;--shiki-dark:#7FDBCA">: </span><span style="color:#2F798A;--shiki-dark:#F78C6C">300</span><span style="color:#999999;--shiki-dark:#7FDBCA">}</span><span style="color:#999999;--shiki-dark:#D6DEEB">)</span><span style="color:#999999;--shiki-dark:#7FDBCA">,</span><span style="color:#999999;--shiki-dark:#7FDBCA"> {}</span><span style="color:#999999;--shiki-dark:#D6DEEB"> )</span><span style="color:#B07D48;--shiki-dark:#C5E478;font-style:inherit;--shiki-dark-font-style:italic"> }</span><span style="color:#999999;--shiki-dark:#7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#7FDBCA">&lt;/</span><span style="color:#1E754F;--shiki-dark:#CAECE6">div</span><span style="color:#999999;--shiki-dark:#7FDBCA">&gt;</span></span></code></pre> <div class="svp-code-block--lang" data-svelte-h="svelte-xa0fuv">svelte</div> <div class="svp-code-bock--copy-code" role="button" tabindex="0" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path><path fill="currentColor" d="M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"></path></svg></div></div></div> <div id="Outro" class="svp-anchor-item"></div> <h2 data-svelte-h="svelte-h8z8mx"><a href="#Outro" class="svp-title-anchor" aria-label="Outro"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Outro</h2> <p data-svelte-h="svelte-ihulcx">I am not someone with obsession to address layout shift issues. Layout shifts are unacceptable in todays more and more competitive web development industry. They are the one of best known UX spoilers and we should eliminate them at whichever cost I believe.</p> <p>Doing so it more and more easy nowadays. With the death of IE and browser vendors adopting improvements faster than ever, you should at least ship code with <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="aspect-ratio"> <div>aspect-ratio</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a> to ensure thing do not jump around when page is loading or styles are applying consecutively.</p> <div id="Related-Topics" class="svp-anchor-item"></div> <h3 data-svelte-h="svelte-ostv9c"><a href="#Related-Topics" class="svp-title-anchor" aria-label="Related Topics"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Related Topics</h3> <p data-svelte-h="svelte-bdnlkj">If you care I would suggest learning these concepts for a performance competitive or UX acceptable web page.</p> <ul><li><a href="https://web.dev/extract-critical-css/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Critical CSS (above the fold styles)"> <div>Critical CSS (above the fold styles)</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://caniuse.com/mdn-css_properties_aspect-ratio" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Apect-ratio"> <div>Apect-ratio</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://caniuse.com/object-fit" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Object-fit"> <div>Object-fit</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://web.dev/native-lazy-loading/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Lazy loading images"> <div>Lazy loading images</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Using responsive images (srcset)"> <div>Using responsive images (srcset)</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Performance/How_fast#minification_and_compression_of_assets" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Minification and compression of assets"> <div>Minification and compression of assets</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://developer.chrome.com/blog/modulepreload/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Module preloading"> <div>Module preloading</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://web.dev/optimize-third-party-javascript/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Optimizing third-party scripts"> <div>Optimizing third-party scripts</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://webpack.js.org/guides/code-splitting/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Code splitting"> <div>Code splitting</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://www.smashingmagazine.com/2016/02/preload-what-is-it-good-for/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Preloading in general"> <div>Preloading in general</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li> <li><a href="https://css-tricks.com/prerender-on-hover/" class="link   highlight svelte-1rl6eur" target="_blank" aria-label="Prefetching url(when using client side routing)"> <div>Prefetching url(when using client side routing)</div> <svg width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" strokelinecap="round" strokelinejoin="round" strokewidth="2"><path strokedasharray="36" strokedashoffset="36" d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="36;0"></animate></path><path strokedasharray="12" strokedashoffset="12" d="M13 11L20 4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.3s" values="12;0"></animate></path><path strokedasharray="8" strokedashoffset="8" d="M21 3H15M21 3V9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.9s" dur="0.2s" values="8;0"></animate></path></g></svg>  </a></li></ul> <div class="meta svelte-5l8hkd without-edit-link"> <div class="last-update svelte-1mlgib2">Last update at: 2024/07/11 21:18:50</div></div> </div></div>  <div class="toc svelte-17co0a5 collapsed"><div class="title svelte-17co0a5">On this page</div> <div class="anchors svelte-17co0a5" style="--bar-top: calc(0em);"> <a href="#Why-my-image-is-not-hydrating-correctly-when-Svelte-initializes" class="item svelte-17co0a5 active" style="--heading-depth: 2;">Why my image is not hydrating correctly when Svelte initializes </a> <a href="#Preface" class="item svelte-17co0a5" style="--heading-depth: 2;">Preface </a> <a href="#The-Problem" class="item svelte-17co0a5" style="--heading-depth: 2;">The Problem </a> <a href="#Conclusion" class="item svelte-17co0a5" style="--heading-depth: 2;">Conclusion </a> <a href="#Outro" class="item svelte-17co0a5" style="--heading-depth: 2;">Outro </a> <a href="#Related-Topics" class="item svelte-17co0a5" style="--heading-depth: 3;">Related Topics </a> <div class="active-bar svelte-17co0a5"></div></div></div> <div class="backdrop svelte-112ytuk" role="none" style="top: 0; z-index: 900;"></div>  </main> 
			
			<script>
				{
					__sveltekit_xls89c = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../../_app/immutable/entry/start.C8LWQuQL.js"),
						import("../../_app/immutable/entry/app.CEQuV4OC.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 9],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
